<!DOCTYPE html>
<html>
<head>
    <title>Grafico Femminicidi 2024</title>
    <link rel="stylesheet" href="stile.css">
</head>
<body>

<canvas id="grafico" width="800" height="400"></canvas>

<script>
// Dati femminicidi per mese
const mesi = ["Gen", "Feb", "Mar", "Apr", "Mag", "Giu", "Lug", "Ago", "Set", "Ott", "Nov", "Dic"];
const dati = [11, 9, 10, 10, 11, 13, 14, 13, 9, 10, 13, 13];

const canvas = document.getElementById('grafico');
const ctx = canvas.getContext('2d');

// Margini
const margineX = 60;
const margineY = 40;

// Troviamo il valore massimo
let maxVal = dati[0];
for (let i = 1; i < dati.length; i++) {
    if (dati[i] > maxVal) {
        maxVal = dati[i];
    }
}

// Calcoliamo le coordinate dei punti
const coordinate = [];
for (let i = 0; i < dati.length; i++) {
    const x = margineX + i * ((canvas.width - 2 * margineX) / (dati.length - 1));

    const val = dati[i];
    const y = canvas.height - margineY - (val / maxVal) * (canvas.height - 2 * margineY);

    coordinate.push({ x: x, y: y });
}

// --- Disegno assi ---
ctx.beginPath();
ctx.moveTo(margineX, margineY);
ctx.lineTo(margineX, canvas.height - margineY); // asse Y
ctx.lineTo(canvas.width - margineX, canvas.height - margineY); // asse X
ctx.strokeStyle = "black";
ctx.lineWidth = 2;
ctx.stroke();

// --- Disegno linea grafico ---
ctx.beginPath();
ctx.moveTo(coordinate[0].x, coordinate[0].y);

for (let i = 1; i < coordinate.length; i++) {
    ctx.lineTo(coordinate[i].x, coordinate[i].y);
}

ctx.strokeStyle = "red";
ctx.lineWidth = 2;
ctx.stroke();

// --- Etichette asse X (mesi) ---
ctx.fillStyle = "black";
ctx.font = "14px Arial";
ctx.textAlign = "center";

for (let i = 0; i < coordinate.length; i++) {
    ctx.fillText(mesi[i], coordinate[i].x, canvas.height - margineY + 15);
}

// --- Etichette asse Y (tutti i numeri) ---
ctx.textAlign = "right";

for (let v = 0; v <= maxVal; v++) {
    // posizione Y del valore
    const y = canvas.height - margineY - (v / maxVal) * (canvas.height - 2 * margineY);

    // testo
    ctx.fillText(v.toString(), margineX - 10, y + 4);

    // (opzionale) piccolo trattino sul lato
    ctx.beginPath();
    ctx.moveTo(margineX - 3, y);
    ctx.lineTo(margineX, y);
    ctx.strokeStyle = "black";
    ctx.stroke();
}

</script>

</body>
</html>
